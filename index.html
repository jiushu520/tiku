<!DOCTYPE html>
<html>
<head>
    <style>
        .slider {
            position: relative;
            width: 100%;
            height: 3vh;
            background: #ddd;
            margin: 0px;
        }
        .slider .track {
            position: absolute;
            height: 100%;
            width: 100%;
            background: #ddd;
        }
        .slider .handle {
            position: absolute;
            top: 0;
            width: 10px;
            height: 3vh;
            background: #333;
            cursor: pointer;
        }
.slider .range {
    background: transparent; /* 将选中范围设为透明 */
}
        .container {
            position: absolute;
            top: 0vh;
            height: 97vh;
            display: flex;
            flex-direction: column;
        }
.container1 {
    background: rgba(173, 216, 230, 1); /* 浅蓝色 */
}
.container2 {
    background: rgba(173, 216, 230, 1); /* 浅蓝色 */
}
.container3 {
    background: rgba(173, 216, 230, 1); /* 浅蓝色 */
}
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            flex-grow: 1;
        }
        .menu {
            background: #f0f0f0;
            padding: 0px;
            text-align: center;
        }
        .dropdown {
            width: 90%;
            padding: 5px;
        }
        .login-container {
            display: none;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100vw;
            position: absolute;
            top: 0;
            left: 0;
            background-color: rgba(224, 247, 250, 0.9);
            z-index: 1000;
        }
        .login-box {
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>

<!-- 登录界面 -->
<div class="login-container" id="login-container">
    <div class="login-box">
        <h2>登录</h2>
        <label for="username">账号</label>
        <input type="text" id="username" placeholder="请输入账号">
        <br>
        <label for="password">密码</label>
        <input type="password" id="password" placeholder="请输入密码">
        <br>
        <button id="login-btn">登录</button>
    </div>
</div>

<!-- 滑动条部分 -->
<div class="slider" id="slider">
    <div class="track"></div>

    <!-- 三个容器，分别插入不同的iframe链接 -->
    <div class="container container1" id="container1">
        <div class="menu">
            <select class="dropdown" id="dropdown1">
        <option value="https://jiushu520.github.io/tiku/">题库</option>
        <option value="https://www.geogebra.org/classic">ggb</option>
        <option value="https://jiushu520.github.io/geogebra/">ggb指令</option>
        <option value="https://jiushu520.github.io/tu/">作业点评</option>
        <option value="jiushudsai.html">深度智能</option>
        <option value="jiushugptcom.html">玖数求索</option>
        <option value="jiushugpto1.html">玖数推理</option>
        <option value="玖数图文.html">玖数图文</option>
        <option value="jiushuydg.html">玖数有点杠</option>
        <option value="jiushuopenai.html">玖数智能</option>
        <option value="https://felo.ai/search">felo搜索</option>
        <option value="https://metaso.cn/">秘塔搜索</option>
            </select>
        </div>
      <iframe src="" id="iframe1" title="Content Viewer"></iframe>
    </div>


    <div class="container container2" id="container2">
        <div class="menu">
            <select class="dropdown" id="dropdown2">
        <option value="https://jiushu520.github.io/draw/">画布</option>
        <option value="https://www.geogebra.org/classic">ggb</option>
        <option value="https://jiushu520.github.io/geogebra/">ggb指令</option>
        <option value="https://jiushu520.github.io/tu/">作业点评</option>
        <option value="jiushudsai.html">深度智能</option>
        <option value="jiushugptcom.html">玖数求索</option>
        <option value="jiushugpto1.html">玖数推理</option>
        <option value="玖数图文.html">玖数图文</option>
        <option value="jiushuydg.html">玖数有点杠</option>
        <option value="jiushuopenai.html">玖数智能</option>
        <option value="https://felo.ai/search">felo搜索</option>
        <option value="https://metaso.cn/">秘塔搜索</option>
            </select>
        </div>
         <iframe src="" id="iframe2" title="Content Viewer"></iframe>
    </div>



    <div class="container container3" id="container3">
        <div class="menu">
            <select class="dropdown" id="dropdown3">
        <option value="https://metaso.cn/">秘塔搜索</option>
         <option value="画布.html">画布</option>
        <option value="https://jiushu520.github.io/geogebra/">ggb指令</option>
        <option value="https://jiushu520.github.io/tu/">作业点评</option>
        <option value="jiushudsai.html">深度智能</option>
        <option value="jiushugptcom.html">玖数求索</option>
        <option value="jiushugpto1.html">玖数推理</option>
        <option value="玖数图文.html">玖数图文</option>
        <option value="jiushuydg.html">玖数有点杠</option>
        <option value="jiushuopenai.html">玖数智能</option>
        <option value="https://felo.ai/search">felo搜索</option>

            </select>
        </div>
       <iframe src="" id="iframe3" title="Content Viewer"></iframe>
    </div>

    <!-- 滑动块和选中范围 -->
    <div class="range" id="range"></div>
    <div class="handle" id="handle1"></div>
    <div class="handle" id="handle2"></div>
</div>

<script src="accounts.js"></script>

<script>
// 登录逻辑

document.addEventListener('DOMContentLoaded', () => {
    const loginContainer = document.getElementById('login-container');
    const loginBtn = document.getElementById('login-btn');
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');

    const savedUsername = localStorage.getItem('username');
    const savedPassword = localStorage.getItem('password');

    if (savedUsername && savedPassword) {
        loginContainer.style.display = 'none';
    } else {
        loginContainer.style.display = 'flex';
    }



    loginBtn.addEventListener('click', login);
    usernameInput.addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
            login();
        }
    });
    passwordInput.addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
            login();
        }
    });

    function login() {
        const username = usernameInput.value;
        const password = passwordInput.value;

        if (accounts[username] && accounts[username] === password) {
            localStorage.setItem('username', username);
            localStorage.setItem('password', password);
            loginContainer.style.display = 'none';
        } else {
            alert('账号或密码错误');
        }
    }
});


// 默认加载三个iframe的第一个选项
document.addEventListener('DOMContentLoaded', function() {
    // 获取下拉菜单和iframe
    const dropdown1 = document.getElementById('dropdown1');
    const iframe1 = document.getElementById('iframe1');
    const dropdown2 = document.getElementById('dropdown2');
    const iframe2 = document.getElementById('iframe2');
    const dropdown3 = document.getElementById('dropdown3');
    const iframe3 = document.getElementById('iframe3');

    // 设置默认src为第一个选项
    iframe1.src = dropdown1.value;
    iframe2.src = dropdown2.value;
    iframe3.src = dropdown3.value;

    // 监听每个下拉菜单的选择更改
    dropdown1.addEventListener('change', function() {
        iframe1.src = this.value;
    });
    dropdown2.addEventListener('change', function() {
        iframe2.src = this.value;
    });
    dropdown3.addEventListener('change', function() {
        iframe3.src = this.value;
    });
});




// 滑动条逻辑
let max = slider.offsetWidth;
let dragging = null;
let animationFrame;

function initHandles() {
    // 设置 handle1 在 50% 位置
    handle1.style.left = (max * 0.5 - handle1.offsetWidth / 2) + 'px';
    // 设置 handle2 在 75% 位置
    handle2.style.left = (max * 0.75 - handle2.offsetWidth / 2) + 'px';
    updateRange();
    updateContainers();
}

function onPointerDown(e) {
    e.preventDefault();
    dragging = e.target;
    slider.setPointerCapture(e.pointerId);
}

function onPointerMove(e) {
    if (dragging) {
        const rect = slider.getBoundingClientRect();
        let offsetX = e.clientX - rect.left;
        offsetX = Math.max(0, Math.min(offsetX, max));

        if (dragging === handle1) {
            const handle2Pos = parseFloat(handle2.style.left) || max;
            offsetX = Math.min(offsetX, handle2Pos);
        } else if (dragging === handle2) {
            const handle1Pos = parseFloat(handle1.style.left) || 0;
            offsetX = Math.max(offsetX, handle1Pos);
        }

        dragging.style.left = offsetX - dragging.offsetWidth / 2 + 'px';

        if (!animationFrame) {
            animationFrame = requestAnimationFrame(() => {
                updateRange();
                updateContainers();
                animationFrame = null;
            });
        }
    }
}

function onPointerUp(e) {
    dragging = null;
    slider.releasePointerCapture(e.pointerId);
}

function updateRange() {
    const handle1Pos = parseFloat(handle1.style.left) || 0;
    const handle2Pos = parseFloat(handle2.style.left) || max - handle2.offsetWidth;
    const minPos = Math.min(handle1Pos, handle2Pos) + handle1.offsetWidth / 2;
    const maxPos = Math.max(handle1Pos, handle2Pos) + handle1.offsetWidth / 2;
    
    range.style.left = minPos + 'px';
    range.style.width = (maxPos - minPos) + 'px';
}

function updateContainers() {
    const handle1Pos = (parseFloat(handle1.style.left) || 0) + 5; 
    const handle2Pos = (parseFloat(handle2.style.left) || max) + 5; 
    
    container1.style.width = handle1Pos + 'px';
    container1.style.left = '0px';
    
    container2.style.width = (handle2Pos - handle1Pos) + 'px';
    container2.style.left = handle1Pos + 'px';
    
    container3.style.width = (max - handle2Pos) + 'px';
    container3.style.left = handle2Pos + 'px';
}

// 下拉菜单事件监听
document.getElementById('dropdown1').addEventListener('change', function() {
    document.getElementById('container1').querySelector('iframe').src = this.value;
});
document.getElementById('dropdown2').addEventListener('change', function() {
    document.getElementById('container2').querySelector('iframe').src = this.value;
});
document.getElementById('dropdown3').addEventListener('change', function() {
    document.getElementById('container3').querySelector('iframe').src = this.value;
});

handle1.addEventListener('pointerdown', onPointerDown);
handle2.addEventListener('pointerdown', onPointerDown);
slider.addEventListener('pointermove', onPointerMove);
slider.addEventListener('pointerup', onPointerUp);

initHandles();
</script>
</body>
</html>
